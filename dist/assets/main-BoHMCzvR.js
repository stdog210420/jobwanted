import"./getdates-CM6MPNg0.js";const u={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{VITE_GOOGLE_MAPS_API_KEY:f}=u,{VITE_JSEARCH_KEY:b}=u,_=document.querySelector(".search");_.addEventListener("click",()=>{v()});async function v(){const t=document.querySelector("#searchSkill"),o=document.querySelector("#searchLocation"),e=document.querySelector("#searchType");if(!t){console.error("Form elements not found. Please check your HTML.");return}const a=t.value.trim(),c=o.value.trim();let l=e.value.trim();if((l="True")&&(l=!0),!a){alert("Please fill in skill fields.");return}const s=`https://jsearch.p.rapidapi.com/search?query=${encodeURIComponent(a)}&page=1&num_pages=1&country=${encodeURIComponent(c)}&date_posted=all&work_from_home=${encodeURIComponent(l)})`,r={method:"GET",headers:{"x-rapidapi-key":b,"x-rapidapi-host":"jsearch.p.rapidapi.com"}};try{const n=await fetch(s,r);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const i=await n.json();g(i)}catch(n){console.error("Error fetching jobs:",n),alert("Failed to fetch jobs. Please try again later.")}}function g(t){const o=document.querySelector(".jobs");if(!o){console.error("Results container not found. Please check your HTML.");return}o.innerHTML="",t&&t.data&&t.data.length>0?t.data.forEach(e=>{const a=document.createElement("div");a.classList.add("job-item");let c=e.employer_name,l=e.job_state;const s=document.createElement("button");s.classList.add("mapBtn"),s.textContent="View on Map";const r=document.createElement("button");r.classList.add("saveBtn"),r.textContent="Save",r.setAttribute("data-job-id",e.job_id),s.addEventListener("click",()=>{a.classList.add("jobMap"),document.querySelector(".jobMap").classList.add("job-bounce-active"),L(c,l),setTimeout(()=>{a.classList.remove("jobMap")},4e3)}),r.addEventListener("click",i=>{const m=i.target.getAttribute("data-job-id");let p=JSON.parse(localStorage.getItem("favorites"))||[];p.includes(m)?alert("This job is already in your favorites."):(p.push(m),localStorage.setItem("favorites",JSON.stringify(p)),alert("Job saved to favorites!"))}),a.innerHTML=`
                <div class="employer-logo">
                    <a href="${e.employer_website||"#"}" target="_blank"><img src="${e.employer_logo||""}" alt="${e.employer_name||"Employer Logo"}" loading="lazy" width="60" height="60"></a>
                    <h1 class="">${e.job_title||"No job title available."}</h1>
                </div>
                <h2>${e.employer_name||"No employer name available."}</h2>
                <p>Publisher: ${e.job_publisher||"No information available."}</p>
                <p>Type: ${e.job_employment_type||"No information available."}</p>
                <p>Country: ${e.job_country||"No information available."}</p>
                <p><a href="${e.job_apply_link}" target="_blank">Apply Here</a></p>
                <p><a href = "${e.job_apply_link}" target = "_blank" >Job Detail</a ></p>`;const n=document.createElement("div");n.classList.add("buttons-container"),n.appendChild(s),n.appendChild(r),a.appendChild(n),o.appendChild(a)}):o.innerHTML="<p>No jobs found for the given criteria.</p>"}const d=document.getElementById("mapModal"),E=document.querySelector(".close-button"),y=document.getElementById("mapContainer");function L(t,o){if(!t||!o){console.error("Missing companyName and companyState!");return}if(!t){console.error("Missing companyName!");return}const e=M(t,o);y.innerHTML=`<iframe width="100%" height="100%" frameborder="0" style="border:0" src="${e}" allowfullscreen ></iframe > `,d.style.display="flex"}function h(){d.style.display="none",y.innerHTML=""}E.addEventListener("click",h);window.addEventListener("click",t=>{t.target===d&&h()});function M(t,o){return`https://www.google.com/maps/embed/v1/search?q=${t}||${o}&key=${f}&zoom=15`}
