(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();const m=document.querySelector(".search");m.addEventListener("click",()=>{f()});async function f(){const n=document.querySelector("#searchSkill"),r=document.querySelector("#searchLocation"),e=document.querySelector("#searchType");if(!n){console.error("Form elements not found. Please check your HTML.");return}const a=n.value.trim(),t=r.value.trim();let o=e.value.trim();if((o="True")&&(o=!0),!a){alert("Please fill in skill fields.");return}const i=`https://jsearch.p.rapidapi.com/search?query=${encodeURIComponent(a)}&page=1&num_pages=1&country=${encodeURIComponent(t)}&date_posted=all&work_from_home=${encodeURIComponent(o)})`,l={method:"GET",headers:{"x-rapidapi-key":"c72daf91e1msh92c85f15c8eedf9p1c3948jsn14f967bd0034","x-rapidapi-host":"jsearch.p.rapidapi.com"}};try{const c=await fetch(i,l);if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const u=await c.json();y(u)}catch(c){console.error("Error fetching jobs:",c),alert("Failed to fetch jobs. Please try again later.")}}function y(n){const r=document.querySelector(".jobs");if(!r){console.error("Results container not found. Please check your HTML.");return}r.innerHTML="",n&&n.data&&n.data.length>0?n.data.forEach(e=>{const a=document.createElement("div");a.classList.add("job-item");let t=e.job_latitude,o=e.job_longitude,i=e.employer_name;const l=document.createElement("button");l.classList.add("map"),l.textContent="View on Map",l.addEventListener("click",()=>{b(t,o,i)}),a.innerHTML=`
                <h1>${e.job_title}</h1>
                <h2>${e.employer_name||"No employer name available."}</h2>
                <p>${e.job_publisher||"No information available."}</p>
                <p>${e.job_employment_type||"No information available."}</p>
                <p>${e.job_country||"No information available."}</p>
                <p>${e.job_latitude||"No information available."}</p>
                <p>${e.job_longitude||"No information available."}</p>
                <a href="${e.job_apply_link}" target="_blank">Apply Here</a>
            `,a.appendChild(l),r.appendChild(a)}):r.innerHTML="<p>No jobs found for the given criteria.</p>"}const h="AIzaSyC_C9ING3B6KFDr2hTZn9yCoIbRR0npCUw",s=document.getElementById("mapModal"),g=document.querySelector(".close-button"),d=document.getElementById("mapContainer");function b(n,r,e){const a=_(n,r,e);d.innerHTML=`<iframe width="100%" height="100%" frameborder="0" style="border:0" src="${a}" allowfullscreen></iframe>`,s.style.display="flex"}function p(){s.style.display="none",d.innerHTML=""}g.addEventListener("click",p);window.addEventListener("click",n=>{n.target===s&&p()});function _(n,r,e){return`https://www.google.com/maps/embed/v1/www.google.com/maps/embed/v1/search?q=${e}&key=${h}&center=${n||"ANY"},${r||"ANY"}&zoom=15`}
